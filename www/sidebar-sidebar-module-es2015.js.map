{"version":3,"sources":["./src/app/sidebar/sidebar.page.html","./src/app/sidebar/sidebar.module.ts","./src/app/sidebar/sidebar.page.scss","./src/app/sidebar/sidebar.page.ts"],"names":[],"mappings":"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","file":"sidebar-sidebar-module-es2015.js","sourcesContent":["module.exports = \"<ion-menu side=\\\"start\\\" menuId=\\\"first\\\" contentId=\\\"content1\\\" overflow-scroll=\\\"true\\\">\\n    <ion-header>\\n        <ion-toolbar style=\\\"background-color: #e41212 !important;\\\">\\n            <ion-title>Categories</ion-title>\\n        </ion-toolbar>\\n    </ion-header>\\n    <ion-content>\\n        <ion-list *ngIf=\\\"menuPages\\\">\\n            <ion-item *ngFor=\\\"let page of menuPages\\\">\\n                <ion-label routerLink=\\\"/single-category/{{page.categoryId}}/{{page.category[language]}}\\\" (click)=\\\"closeMenu()\\\">{{page.category[language]}}</ion-label>\\n                <ion-icon name=\\\"notifications\\\" style=\\\"color: #e41212;\\\" *ngIf=\\\"page.isNotify\\\" (click)=\\\"notify(page.categoryId)\\\"></ion-icon>\\n                <ion-icon name=\\\"notifications-outline\\\" *ngIf=\\\"!page.isNotify\\\" (click)=\\\"notify(page.categoryId)\\\">\\n                </ion-icon>\\n            </ion-item>\\n        </ion-list>\\n    </ion-content>\\n</ion-menu>\\n<ion-router-outlet id=\\\"content1\\\" main></ion-router-outlet>\"","import { PostTilesPageModule } from './../post-tiles/post-tiles.module';\nimport { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { SidebarPage } from './sidebar.page';\nimport { LargePostPageModule } from '../large-post/large-post.module';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: SidebarPage,\n    children: [\n      // {\n      //   path: '',\n      //   redirectTo: 'home',\n      //   pathMatch: 'full'\n      // },\n      {\n        path: 'home',\n        loadChildren: () => import('../home/home.module').then(m => m.HomePageModule)\n      },\n      {\n        path: 'tour-home',\n        loadChildren: () => import('../tour-home/tour-home.module').then(m => m.TourHomePageModule)\n      }\n    ]\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    LargePostPageModule,\n    PostTilesPageModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [SidebarPage]\n})\nexport class SidebarPageModule { }\n","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3NpZGViYXIvc2lkZWJhci5wYWdlLnNjc3MifQ== */\"","import { shareMessage } from './../changeLang';\nimport { CategoryService } from './../services/category.service';\nimport { ToastService } from './../services/toast.service';\nimport { StorageService } from './../services/storage.service';\nimport { Platform } from '@ionic/angular';\nimport { Component, OnInit } from '@angular/core';\nimport { MenuController } from '@ionic/angular';\nimport * as _ from 'lodash';\nimport { Router } from '@angular/router';\nimport { TranslateService } from '@ngx-translate/core';\n@Component({\n  selector: 'app-sidebar',\n  templateUrl: './sidebar.page.html',\n  styleUrls: ['./sidebar.page.scss'],\n})\nexport class SidebarPage implements OnInit {\n  menuPages: any;\n  subscription: any;\n  language: any;\n  constructor(\n    private translate: TranslateService,\n    private menu: MenuController,\n    private platform: Platform,\n    private _storageService: StorageService,\n    private _toastService: ToastService,\n    private _categoryService: CategoryService,\n    private route: Router\n  ) {\n  }\n\n  ionViewWillEnter() {\n    this.language = localStorage.getItem('language');\n    console.log('CurrentUrl', this.route.url);\n    this.getMenuItems();\n    this.subscription = this.platform.backButton.subscribe(() => {\n      navigator['app'].exitApp();\n    });\n  }\n\n  ngOnInit() {\n  }\n\n  ionViewWillLeave() {\n    this.subscription.unsubscribe();\n  }\n\n  getMenuItems() {\n    this.language = localStorage.getItem('language');\n    if (navigator.onLine) {\n      this._categoryService.getAll().toPromise().then((res: any) => {\n        console.log('edfsfsfdsfd', res);\n        this.menuPages = res;\n        const tokenLocalStorage = localStorage.getItem('accessToken');\n        if (tokenLocalStorage) {\n          const base64Url = tokenLocalStorage.split('.')[1];\n          const base64 = base64Url.replace('-', '+').replace('_', '/');\n          const decodedToken = JSON.parse(window.atob(base64));\n          const loggedInUser = decodedToken.user._id;\n          console.log('Decoded', loggedInUser);\n          _.forEach(this.menuPages, (user) => {\n            _.forEach(user.notify, (Id) => {\n              if (Id == loggedInUser) {\n                console.log('NOTIFIED CATEGORY', Id);\n                user.isNotify = true;\n              }\n            });\n          });\n        }\n        this.menuPages =  [].concat(this.menuPages).reverse();\n        console.log(\"THIS.MEWNU\",this.menuPages)\n        console.log('ONLINE', this.menuPages);\n      });\n    } else {\n      this._storageService.getCatForOffline().then((res: any) => {\n        console.log('edfsfsfdsfd', res);\n        this.menuPages = JSON.parse(res);\n        const tokenLocalStorage = localStorage.getItem('accessToken');\n        if (tokenLocalStorage) {\n          const base64Url = tokenLocalStorage.split('.')[1];\n          const base64 = base64Url.replace('-', '+').replace('_', '/');\n          const decodedToken = JSON.parse(window.atob(base64));\n          const loggedInUser = decodedToken.user._id;\n          console.log('Decoded', loggedInUser);\n          _.forEach(this.menuPages, (user) => {\n            _.forEach(user.notify, (Id) => {\n              if (Id == loggedInUser) {\n                console.log('NOTIFIED CATEGORY', Id);\n                user.isNotify = true;\n              }\n            });\n          });\n          this.menuPages =  [].concat(this.menuPages).reverse();\n          console.log(\"THIS.MEWNU\",this.menuPages)\n          console.log('OFFLINE', this.menuPages);\n        }\n      });\n    }\n  }\n  closeMenu() {\n    this.menu.close();\n  }\n\n  notify(catId) {\n    if (!navigator.onLine) {\n      this.translate.get('No internet connection').subscribe((res: any) => {\n        this._toastService.toastFunction(res, '');\n      })\n    } else if (!localStorage.getItem('accessToken')) {\n      this.translate.get('Please Login').subscribe((res: any) => {\n        this._toastService.toastFunction(res, '');\n      })\n    } else {\n      this._categoryService.notifyUser(catId).subscribe((res: any) => {\n        this.getMenuItems();\n        this.translate.get(res.message).subscribe((res: any) => {\n          this._toastService.toastFunction(res, 'success');\n        })\n      }, err => {\n      });\n    }\n  }\n}\n"],"sourceRoot":""}