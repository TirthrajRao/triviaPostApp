{"version":3,"sources":["./src/app/sidebar/sidebar.page.html","./src/app/home/home.module.ts","./src/app/sidebar/sidebar.module.ts","./src/app/sidebar/sidebar.page.scss","./src/app/sidebar/sidebar.page.ts","./src/app/tour-home/tour-home.module.ts"],"names":[],"mappings":"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","file":"sidebar-sidebar-module-es2015.js","sourcesContent":["module.exports = \"<ion-menu side=\\\"start\\\" menuId=\\\"first\\\" contentId=\\\"content\\\" overflow-scroll=\\\"true\\\">\\n    <ion-list style=\\\"overflow-y: scroll;\\\" *ngIf=\\\"menuPages\\\">\\n        <ion-item *ngFor=\\\"let page of menuPages\\\">\\n            <ion-label routerLink=\\\"/single-category/{{page.categoryId}}/{{page.category[language]}}\\\" (click)=\\\"closeMenu()\\\">{{page.category[language]}}</ion-label>\\n            <ion-icon name=\\\"notifications\\\" style=\\\"color: #e41212;\\\" *ngIf=\\\"page.isNotify == true\\\" (click)=\\\"notify(page.categoryId)\\\"></ion-icon>\\n            <ion-icon name=\\\"notifications-outline\\\" *ngIf=\\\"!page.isNotify\\\" (click)=\\\"notify(page.categoryId)\\\"></ion-icon>\\n        </ion-item>\\n    </ion-list>\\n</ion-menu>\\n<ion-router-outlet main id=\\\"content\\\"></ion-router-outlet>\"","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { IonicModule } from '@ionic/angular';\nimport { FormsModule } from '@angular/forms';\nimport { RouterModule, Routes } from '@angular/router';\nimport { HomePage } from './home.page';\nimport { SuperTabsModule } from '@ionic-super-tabs/angular';\nimport {CategoryTilesPageModule} from '../category-tiles/category-tiles.module';\nimport {LargePostPageModule} from '../large-post/large-post.module';\nimport {PostTilesPageModule} from '../post-tiles/post-tiles.module';\nimport {SidebarPageModule} from '../sidebar/sidebar.module';\nimport { SidebarPage } from 'app/sidebar/sidebar.page';\n@NgModule({\n  imports: [\n    CategoryTilesPageModule,\n    LargePostPageModule,\n    PostTilesPageModule,\n    SuperTabsModule,\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild([\n      {\n        path: '',\n        component: HomePage,\n      },\n    ]),\n  ],\n  declarations: [HomePage]\n})\nexport class HomePageModule {}\n","import { PostTilesPageModule } from './../post-tiles/post-tiles.module';\nimport { HomePage } from './../home/home.page';\nimport { TourHomePage } from './../tour-home/tour-home.page';\nimport { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { SidebarPage } from './sidebar.page';\nimport { LargePostPageModule } from '../large-post/large-post.module';\nimport { TourHomePageModule } from '../tour-home/tour-home.module';\nimport { HomePageModule } from '../home/home.module';\nconst routes: Routes = [\n  {\n    path: '',\n    component: SidebarPage,\n    children: [\n      // {\n      //   path: '',\n      //   redirectTo: 'home',\n      //   pathMatch: 'full'\n      // },\n      {\n        path: 'home',\n        children: [\n          {\n            path: '',\n            loadChildren: () => import('../home/home.module').then(m => m.HomePageModule)\n          }\n        ]\n      },\n      {\n        path: 'tour-home',\n        children: [\n          {\n            path: '',\n            loadChildren: () => import('../tour-home/tour-home.module').then(m => m.TourHomePageModule)\n          }\n        ]\n\n      }\n    ]\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    LargePostPageModule,\n    PostTilesPageModule,\n    TourHomePageModule,\n    HomePageModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [SidebarPage]\n})\nexport class SidebarPageModule { }\n","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3NpZGViYXIvc2lkZWJhci5wYWdlLnNjc3MifQ== */\"","import { CategoryService } from './../services/category.service';\nimport { ToastService } from './../services/toast.service';\nimport { StorageService } from './../services/storage.service';\nimport { Platform } from '@ionic/angular';\nimport { Component, OnInit } from '@angular/core';\nimport { MenuController } from '@ionic/angular';\nimport * as _ from 'lodash';\nimport {HomePage} from '../home/home.page'\nimport { Router } from '@angular/router';\n@Component({\n  selector: 'app-sidebar',\n  templateUrl: './sidebar.page.html',\n  styleUrls: ['./sidebar.page.scss'],\n})\nexport class SidebarPage implements OnInit {\n  menuPages: any;\n  subscription: any;\n  language: any;\n  constructor(\n    private homePage: HomePage,\n    private menu: MenuController,\n    private platform: Platform,\n    private _storageService: StorageService,\n    private _toastService: ToastService,\n    private _categoryService: CategoryService,\n    private route: Router\n  ) {\n  }\n\n  ionViewWillEnter() {\n    this.language = localStorage.getItem('language');\n    console.log(\"CurrentUrl\", this.route.url);\n    this.getMenuItems();\n    this.subscription = this.platform.backButton.subscribe(() => {\n      navigator['app'].exitApp();\n    });\n  }\n\n  ngOnInit() {\n  }\n\n  ionViewWillLeave() {\n    this.subscription.unsubscribe();\n  }\n\n  getMenuItems() {\n    if (navigator.onLine) {\n    this._categoryService.getAll().toPromise().then((res: any) => {\n        console.log(\"edfsfsfdsfd\",res)\n        this.menuPages = res;\n        const tokenLocalStorage = localStorage.getItem('accessToken');\n        if (tokenLocalStorage) {\n          var base64Url = tokenLocalStorage.split('.')[1];\n          var base64 = base64Url.replace('-', '+').replace('_', '/');\n          var decodedToken = JSON.parse(window.atob(base64));\n          var loggedInUser = decodedToken.user._id;\n          console.log(\"Decoded\", loggedInUser);\n        }\n        _.forEach(this.menuPages, (user) => {\n          _.forEach(user.notify, (Id) => {\n            if (Id == loggedInUser) {\n              console.log(\"NOTIFIED CATEGORY\", Id)\n              user['isNotify'] = true;\n            }\n          })\n        })\n        console.log(\"OFFLINE\", this.menuPages)\n      })\n    }else{\n      this._storageService.getCatForOffline().then((res: any) => {\n        console.log(\"edfsfsfdsfd\",res)\n        this.menuPages = JSON.parse(res);\n        const tokenLocalStorage = localStorage.getItem('accessToken');\n        if (tokenLocalStorage) {\n          var base64Url = tokenLocalStorage.split('.')[1];\n          var base64 = base64Url.replace('-', '+').replace('_', '/');\n          var decodedToken = JSON.parse(window.atob(base64));\n          var loggedInUser = decodedToken.user._id;\n          console.log(\"Decoded\", loggedInUser);\n        }\n        _.forEach(this.menuPages, (user) => {\n          _.forEach(user.notify, (Id) => {\n            if (Id == loggedInUser) {\n              console.log(\"NOTIFIED CATEGORY\", Id)\n              user['isNotify'] = true;\n            }\n          })\n        })\n        console.log(\"OFFLINE\", this.menuPages)\n      })\n    }\n  }\n  closeMenu() {\n    this.menu.close()\n  }\n\n  notify(catId){\n    if (!navigator.onLine) {\n      const message = \"No internet connection\";\n      const color = \"danger\";\n      this._toastService.toastFunction(message, color);\n    }else if(!localStorage.getItem('accessToken')){\n      const message = \"You need to login first\";\n      const color = \"danger\";\n      this._toastService.toastFunction(message, color);\n    } else {\n      this._categoryService.notifyUser(catId).subscribe((res: any) => {\n        this.getMenuItems();\n        this._toastService.toastFunction(res.message, 'success');\n      }, err => {\n        this._toastService.toastFunction(err.error.message, 'danger');\n      })\n    }\n  }\n}","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\nimport { IonicModule } from '@ionic/angular';\nimport { TourHomePage } from './tour-home.page';\nimport {LargePostPageModule} from '../large-post/large-post.module';\nimport {PostTilesPageModule} from '../post-tiles/post-tiles.module';\nconst routes: Routes = [\n  {\n    path: '',\n    component: TourHomePage\n  }\n];\n\n@NgModule({\n  imports: [\n    LargePostPageModule,\n    PostTilesPageModule,\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [TourHomePage]\n})\nexport class TourHomePageModule {}\n"],"sourceRoot":""}