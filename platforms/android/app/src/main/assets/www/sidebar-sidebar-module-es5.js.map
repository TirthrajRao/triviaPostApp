{"version":3,"sources":["./src/app/sidebar/sidebar.page.html","./src/app/sidebar/sidebar.module.ts","./src/app/sidebar/sidebar.page.scss","./src/app/sidebar/sidebar.page.ts"],"names":[],"mappings":"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","file":"sidebar-sidebar-module-es5.js","sourcesContent":["module.exports = \"<ion-menu side=\\\"start\\\" menuId=\\\"first\\\" contentId=\\\"content1\\\" overflow-scroll=\\\"true\\\">\\n    <ion-header>\\n        <ion-toolbar style=\\\"--background: #e41212 !important;color\\\">\\n            <ion-title>Categories</ion-title>\\n        </ion-toolbar>\\n    </ion-header>\\n    <ion-content>\\n        <ion-list *ngIf=\\\"menuPages\\\">\\n            <ion-item *ngFor=\\\"let page of menuPages\\\">\\n                <ion-label routerLink=\\\"/single-category/{{page.categoryId}}/{{page.category[language]}}\\\" (click)=\\\"closeMenu()\\\">{{page.category[language]}}</ion-label>\\n                <ion-icon name=\\\"notifications\\\" style=\\\"color: #e41212;\\\" *ngIf=\\\"page.isNotify\\\" (click)=\\\"notify(page.categoryId)\\\"></ion-icon>\\n                <ion-icon name=\\\"notifications-outline\\\" *ngIf=\\\"!page.isNotify\\\" (click)=\\\"notify(page.categoryId)\\\">\\n                </ion-icon>\\n            </ion-item>\\n        </ion-list>\\n    </ion-content>\\n</ion-menu>\\n<ion-router-outlet id=\\\"content1\\\" main></ion-router-outlet>\"","import { PostTilesPageModule } from './../post-tiles/post-tiles.module';\nimport { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { SidebarPage } from './sidebar.page';\nimport { LargePostPageModule } from '../large-post/large-post.module';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: SidebarPage,\n    children: [\n      // {\n      //   path: '',\n      //   redirectTo: 'home',\n      //   pathMatch: 'full'\n      // },\n      {\n        path: 'home',\n        loadChildren: () => import('../home/home.module').then(m => m.HomePageModule)\n      },\n      {\n        path: 'tour-home',\n        loadChildren: () => import('../tour-home/tour-home.module').then(m => m.TourHomePageModule)\n      }\n    ]\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    LargePostPageModule,\n    PostTilesPageModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [SidebarPage]\n})\nexport class SidebarPageModule { }\n","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3NpZGViYXIvc2lkZWJhci5wYWdlLnNjc3MifQ== */\"","import { shareMessage } from './../changeLang';\nimport { CategoryService } from './../services/category.service';\nimport { ToastService } from './../services/toast.service';\nimport { StorageService } from './../services/storage.service';\nimport { Platform } from '@ionic/angular';\nimport { Component, OnInit } from '@angular/core';\nimport { MenuController } from '@ionic/angular';\nimport * as _ from 'lodash';\nimport { Router } from '@angular/router';\nimport { TranslateService } from '@ngx-translate/core';\n@Component({\n  selector: 'app-sidebar',\n  templateUrl: './sidebar.page.html',\n  styleUrls: ['./sidebar.page.scss'],\n})\nexport class SidebarPage implements OnInit {\n  menuPages: any;\n  subscription: any;\n  language: any;\n  constructor(\n    private translate: TranslateService,\n    private menu: MenuController,\n    private platform: Platform,\n    private _storageService: StorageService,\n    private _toastService: ToastService,\n    private _categoryService: CategoryService,\n    private route: Router\n  ) {\n  }\n\n  ionViewWillEnter() {\n    this.language = localStorage.getItem('language');\n    console.log('CurrentUrl', this.route.url);\n    this.getMenuItems();\n    this.subscription = this.platform.backButton.subscribe(() => {\n      navigator['app'].exitApp();\n    });\n  }\n\n  ngOnInit() {\n  }\n\n  ionViewWillLeave() {\n    this.subscription.unsubscribe();\n  }\n\n  getMenuItems() {\n    this.language = localStorage.getItem('language');\n    if (navigator.onLine) {\n      this._categoryService.getAll().toPromise().then((res: any) => {\n        console.log('edfsfsfdsfd', res);\n        this.menuPages = res;\n        const tokenLocalStorage = localStorage.getItem('accessToken');\n        if (tokenLocalStorage) {\n          const base64Url = tokenLocalStorage.split('.')[1];\n          const base64 = base64Url.replace('-', '+').replace('_', '/');\n          const decodedToken = JSON.parse(window.atob(base64));\n          const loggedInUser = decodedToken.user._id;\n          console.log('Decoded', loggedInUser);\n          _.forEach(this.menuPages, (user) => {\n            _.forEach(user.notify, (Id) => {\n              if (Id == loggedInUser) {\n                console.log('NOTIFIED CATEGORY', Id);\n                user.isNotify = true;\n              }\n            });\n          });\n        }\n        console.log(\"THIS.MEWNU\",this.menuPages)\n        console.log('ONLINE', this.menuPages);\n      });\n    } else {\n      this._storageService.getCatForOffline().then((res: any) => {\n        console.log('edfsfsfdsfd', res);\n        this.menuPages = JSON.parse(res);\n        const tokenLocalStorage = localStorage.getItem('accessToken');\n        if (tokenLocalStorage) {\n          const base64Url = tokenLocalStorage.split('.')[1];\n          const base64 = base64Url.replace('-', '+').replace('_', '/');\n          const decodedToken = JSON.parse(window.atob(base64));\n          const loggedInUser = decodedToken.user._id;\n          console.log('Decoded', loggedInUser);\n          _.forEach(this.menuPages, (user) => {\n            _.forEach(user.notify, (Id) => {\n              if (Id == loggedInUser) {\n                console.log('NOTIFIED CATEGORY', Id);\n                user.isNotify = true;\n              }\n            });\n          });\n          // this.menuPages =  [].concat(this.menuPages).reverse();\n          console.log(\"THIS.MEWNU\",this.menuPages)\n          console.log('OFFLINE', this.menuPages);\n        }\n      });\n    }\n  }\n  closeMenu() {\n    this.menu.close();\n  }\n\n  notify(catId) {\n    if (!navigator.onLine) {\n      this.translate.get('No internet connection').subscribe((res: any) => {\n        this._toastService.toastFunction(res, '');\n      })\n    } else if (!localStorage.getItem('accessToken')) {\n      this.translate.get('Please Login').subscribe((res: any) => {\n        this._toastService.toastFunction(res, '');\n      })\n    } else {\n      this._categoryService.notifyUser(catId).subscribe((res: any) => {\n        this.getMenuItems();\n        this.translate.get(res.message).subscribe((res: any) => {\n          this._toastService.toastFunction(res, 'success');\n        })\n      }, err => {\n      });\n    }\n  }\n}\n"],"sourceRoot":""}