{"version":3,"sources":["./node_modules/@ionic-super-tabs/core/dist/esm-es5/super-tab_3.entry.js"],"names":[],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAAiB,SAAI,IAAI,SAAI;AAC7B,2BAA2B,+DAA+D,gBAAgB,EAAE,EAAE;AAC9G;AACA,mCAAmC,MAAM,6BAA6B,EAAE,YAAY,WAAW,EAAE;AACjG,kCAAkC,MAAM,iCAAiC,EAAE,YAAY,WAAW,EAAE;AACpG,+BAA+B,qFAAqF;AACpH;AACA,KAAK;AACL;AACA,mBAAmB,SAAI,IAAI,SAAI;AAC/B,aAAa,6BAA6B,0BAA0B,aAAa,EAAE,qBAAqB;AACxG,gBAAgB,qDAAqD,oEAAoE,aAAa,EAAE;AACxJ,sBAAsB,sBAAsB,qBAAqB,GAAG;AACpE;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC;AACvC,kCAAkC,SAAS;AAC3C,kCAAkC,WAAW,UAAU;AACvD,yCAAyC,cAAc;AACvD;AACA,6GAA6G,OAAO,UAAU;AAC9H,gFAAgF,iBAAiB,OAAO;AACxG,wDAAwD,gBAAgB,QAAQ,OAAO;AACvF,8CAA8C,gBAAgB,gBAAgB,OAAO;AACrF;AACA,iCAAiC;AACjC;AACA;AACA,SAAS,YAAY,aAAa,OAAO,EAAE,UAAU,WAAW;AAChE,mCAAmC,SAAS;AAC5C;AACA;AAC6H;AACyD;AACtL;AACA;AACA,QAAQ,2DAAgB;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA,eAAe,2DAAC;AAChB;AACA;AACA,0BAA0B,QAAQ,2DAAU,OAAO,EAAE;AACrD;AACA;AACA,KAAK;AACL;AACA,0BAA0B,eAAe,oCAAoC,kBAAkB,cAAc,gBAAgB,UAAU,oBAAoB,cAAc,oBAAoB,YAAY,mCAAmC,gCAAgC,wBAAwB,8BAA8B,sBAAsB,kBAAkB,SAAS,yBAAyB,2BAA2B,8BAA8B,0CAA0C,mCAAmC,oBAAoB,YAAY,gBAAgB,kBAAkB,wCAAwC,kBAAkB,EAAE,EAAE;AAClpB;AACA;AACA,KAAK;AACL;AACA,CAAC;AACD;AACA;AACA,QAAQ,2DAAgB;AACxB;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA,uBAAuB,oDAAc;AACrC,yBAAyB,2DAAW;AACpC;AACA;AACA;AACA,eAAe,gBAAgB;AAC/B;AACA;AACA;AACA;AACA;AACA,6DAA6D,EAAE,oDAAc;AAC7E;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA,qBAAqB,OAAO;AAC5B,8BAA8B,QAAQ;AACtC;AACA;AACA,iCAAiC,gBAAgB;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,uBAAuB;AAC/C;AACA;AACA,QAAQ,4DAAQ;AAChB;AACA;AACA;AACA;AACA;AACA,gBAAgB,2DAAC,CAAC,mDAAI,QAAQ,2DAAC,UAAU,cAAc,GAAG,2DAAC,gBAAgB,2DAAC,UAAU,iBAAiB;AACvG;AACA;AACA,0BAA0B,QAAQ,2DAAU,OAAO,EAAE;AACrD;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA,0BAA0B,eAAe,YAAY,gBAAgB,oBAAoB,aAAa,0BAA0B,sBAAsB,gBAAgB,UAAU,kBAAkB,0BAA0B,kBAAkB,SAAS,yBAAyB,sBAAsB,qBAAqB,iBAAiB,2BAA2B,8BAA8B,0CAA0C,mCAAmC,sBAAsB,kBAAkB,8BAA8B,sBAAsB,SAAS,UAAU,EAAE,EAAE;AACrkB;AACA;AACA,KAAK;AACL;AACA,CAAC;AACD;AACA;AACA,QAAQ,2DAAgB;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC,2DAAW;AAC/C,sCAAsC,2DAAW;AACjD,qBAAqB,2DAAU;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gFAAgF,6BAA6B,EAAE;AAC/G;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,qBAAqB,OAAO;AAC5B,uBAAuB,QAAQ;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB;AACvB,uBAAuB;AACvB;AACA;AACA;AACA,QAAQ,4DAAQ;AAChB;AACA;AACA;AACA;AACA,uCAAuC,sBAAsB;AAC7D,iCAAiC,gBAAgB;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B,4DAAQ;AACpC;AACA,qBAAqB;AACrB,iBAAiB;AACjB;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA,8BAA8B,aAAa;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA,yBAAyB,4DAAY;AACrC;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C,4DAAK;AACjD;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB,4DAAY;AACrC;AACA,oCAAoC,4DAAY;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B,4DAAU;AACvC,0BAA0B,4DAAoB;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB,4DAAY;AACrC,4BAA4B,4DAAK;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oDAAoD,4DAAU;AAC9D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,uBAAuB;AAC/C;AACA;AACA,QAAQ,4DAAQ;AAChB;AACA;AACA;AACA,eAAe,2DAAC;AAChB;AACA;AACA,0BAA0B,QAAQ,2DAAU,OAAO,EAAE;AACrD;AACA;AACA,KAAK;AACL;AACA,0BAA0B,eAAe,oBAAoB,aAAa,yBAAyB,qBAAqB,eAAe,kBAAkB,cAAc,kBAAkB,8BAA8B,sBAAsB,mCAAmC,oCAAoC,gBAAgB,gCAAgC,wBAAwB,uBAAuB,mBAAmB,sBAAsB,qBAAqB,iBAAiB,4BAA4B,kBAAkB,SAAS,yBAAyB,2BAA2B,8BAA8B,0CAA0C,mCAAmC,EAAE,EAAE;AAC5rB;AACA;AACA,KAAK;AACL;AACA,CAAC;AACgI","file":"4-es5.js","sourcesContent":["var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nimport { r as registerInstance, h, g as getElement, c as createEvent, H as Host, d as getContext } from './core-7e187e4f.js';\nimport { D as DEFAULT_CONFIG, d as debugLog, s as scrollEl, b as getTs, p as pointerCoord, c as checkGesture, g as getScrollX, a as getNormalizedScrollX } from './utils-b0b0ce49.js';\nvar SuperTabComponent = /** @class */ (function () {\n    function class_1(hostRef) {\n        registerInstance(this, hostRef);\n    }\n    /**\n     * Returns the root scrollable element\n     */\n    class_1.prototype.getRootScrollableEl = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var ionContent;\n            return __generator(this, function (_a) {\n                if (this.el.scrollHeight > this.el.clientHeight) {\n                    return [2 /*return*/, this.el];\n                }\n                ionContent = this.el.querySelector('ion-content');\n                if (ionContent) {\n                    return [2 /*return*/, ionContent.getScrollElement()];\n                }\n                return [2 /*return*/, null];\n            });\n        });\n    };\n    class_1.prototype.render = function () {\n        return h(\"slot\", null);\n    };\n    Object.defineProperty(class_1.prototype, \"el\", {\n        get: function () { return getElement(this); },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(class_1, \"style\", {\n        get: function () { return \":host{height:var(--super-tab-height,100%);position:relative;display:block;overflow:hidden;z-index:1;-ms-flex-negative:0;flex-shrink:0;-ms-flex-positive:0;flex-grow:0;width:var(--super-tab-width,100vw);-webkit-transform:translateZ(0);transform:translateZ(0);-webkit-box-sizing:border-box;box-sizing:border-box;-ms-flex-order:-1;order:-1;-webkit-user-select:none;-webkit-touch-callout:none;-webkit-text-size-adjust:none;-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-font-smoothing:antialiased}ion-content,ion-nav{height:100%;max-height:100%;position:absolute}ion-content>.ion-page,ion-nav>.ion-page{position:absolute}\"; },\n        enumerable: true,\n        configurable: true\n    });\n    return class_1;\n}());\nvar SuperTabsComponent = /** @class */ (function () {\n    function class_2(hostRef) {\n        registerInstance(this, hostRef);\n        /**\n         * Initial active tab index.\n         * Defaults to `0`.\n         *\n         * @type {number}\n         */\n        this.activeTabIndex = 0;\n        this._config = DEFAULT_CONFIG;\n        this.tabChange = createEvent(this, \"tabChange\", 7);\n    }\n    /**\n     * Set/update the configuration\n     * @param {SuperTabsConfig} config Configuration object\n     */\n    class_2.prototype.setConfig = function (config) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                this.debug('setConfig called with: ', config);\n                this._config = Object.assign(Object.assign({}, DEFAULT_CONFIG), config);\n                this.container && (this.container.config = this._config);\n                this.toolbar && (this.toolbar.config = this._config);\n                return [2 /*return*/];\n            });\n        });\n    };\n    /**\n     * Set the selected tab.\n     * This will move the container and the toolbar to the selected tab.\n     * @param index {number} the index of the tab you want to select\n     * @param [animate=true] {boolean} whether you want to animate the transition\n     */\n    class_2.prototype.selectTab = function (index, animate) {\n        if (animate === void 0) { animate = true; }\n        return __awaiter(this, void 0, void 0, function () {\n            var lastIndex;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        this.debug('selectTab called with :', index, animate);\n                        lastIndex = this.activeTabIndex;\n                        if (!this.container) return [3 /*break*/, 2];\n                        return [4 /*yield*/, this.container.setActiveTabIndex(index, true, animate)];\n                    case 1:\n                        _a.sent();\n                        _a.label = 2;\n                    case 2:\n                        if (!this.toolbar) return [3 /*break*/, 4];\n                        return [4 /*yield*/, this.toolbar.setActiveTab(index, true, animate)];\n                    case 3:\n                        _a.sent();\n                        _a.label = 4;\n                    case 4:\n                        this.emitTabChangeEvent(index, lastIndex);\n                        this.activeTabIndex = lastIndex;\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    class_2.prototype.onConfigChange = function (config) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this.setConfig(config)];\n                    case 1:\n                        _a.sent();\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    class_2.prototype.onWindowResize = function () {\n        this.debug('onWindowResize');\n        this.toolbar && this.toolbar.setSelectedTab(this.activeTabIndex);\n        this.container.reindexTabs();\n    };\n    class_2.prototype.componentDidLoad = function () {\n        var _this = this;\n        this.debug('componentDidLoad');\n        // listen to `slotchange` event to detect any changes in children\n        this.el.shadowRoot.addEventListener('slotchange', this.onSlotchange.bind(this));\n        requestAnimationFrame(function () {\n            _this.container.moveContainerByIndex(_this.activeTabIndex, false);\n            _this.toolbar && _this.toolbar.setSelectedTab(_this.activeTabIndex, false);\n        });\n    };\n    class_2.prototype.componentWillLoad = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        this.debug('componentWillLoad');\n                        if (!this.config) return [3 /*break*/, 2];\n                        return [4 /*yield*/, this.setConfig(this.config)];\n                    case 1:\n                        _a.sent();\n                        _a.label = 2;\n                    case 2:\n                        // index children\n                        this.indexChildren();\n                        // set the selected tab so the toolbar & container are aligned and in sync\n                        // this.selectTab(this.activeTabIndex);\n                        this.container && this.container.setActiveTabIndex(this.activeTabIndex);\n                        this.toolbar && this.toolbar.setActiveTab(this.activeTabIndex);\n                        // setup event listeners so we can synchronize child components\n                        // 1. listen to selectedTabIndex changes emitted by the container.\n                        this.container && this.el.addEventListener('selectedTabIndexChange', this.onContainerSelectedTabChange.bind(this));\n                        // 2. listen to activeTabIndex changes emitted by the container\n                        this.container && this.el.addEventListener('activeTabIndexChange', this.onContainerActiveTabChange.bind(this));\n                        // 3. listen to tab button clicks emitted by the toolbar\n                        this.toolbar && this.el.addEventListener('buttonClick', this.onToolbarButtonClick.bind(this));\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    class_2.prototype.onContainerSelectedTabChange = function (ev) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        if (!this.toolbar) return [3 /*break*/, 2];\n                        return [4 /*yield*/, this.toolbar.setSelectedTab(ev.detail)];\n                    case 1:\n                        _a.sent();\n                        _a.label = 2;\n                    case 2: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    class_2.prototype.emitTabChangeEvent = function (newIndex, oldIndex) {\n        if (typeof newIndex !== 'number' || newIndex < 0) {\n            return;\n        }\n        if (typeof oldIndex !== 'number' || oldIndex < 0) {\n            oldIndex = this.activeTabIndex;\n        }\n        this.tabChange.emit({\n            changed: newIndex !== oldIndex,\n            index: newIndex,\n        });\n    };\n    class_2.prototype.onContainerActiveTabChange = function (ev) {\n        this.debug('onContainerActiveTabChange called with: ', ev);\n        var index = ev.detail;\n        this.emitTabChangeEvent(index);\n        this.activeTabIndex = index;\n        this.toolbar && this.toolbar.setActiveTab(index, true, true);\n    };\n    class_2.prototype.onToolbarButtonClick = function (ev) {\n        this.debug('onToolbarButtonClick called with: ', ev);\n        var index = ev.detail.index;\n        this.container && this.container.setActiveTabIndex(index, true, true);\n        this.emitTabChangeEvent(index);\n        this.activeTabIndex = index;\n    };\n    class_2.prototype.indexChildren = function () {\n        this.debug('indexChildren called');\n        var container = this.el.querySelector('super-tabs-container');\n        var toolbar = this.el.querySelector('super-tabs-toolbar');\n        if (container && this.container !== container) {\n            this.container = container;\n            container.config = this._config;\n        }\n        if (toolbar && this.toolbar !== toolbar) {\n            this.toolbar = toolbar;\n            toolbar.config = this._config;\n        }\n    };\n    class_2.prototype.onSlotchange = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                this.debug('onSlotChange fired');\n                // re-index the child components\n                this.indexChildren();\n                // reselect the current tab to ensure that we're on the correct tab\n                this.selectTab(this.activeTabIndex);\n                return [2 /*return*/];\n            });\n        });\n    };\n    /**\n     * Internal method to output values in debug mode.\n     */\n    class_2.prototype.debug = function () {\n        var vals = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            vals[_i] = arguments[_i];\n        }\n        debugLog(this._config, 'tabs', vals);\n    };\n    class_2.prototype.render = function () {\n        // Render 3 slots\n        // Top & bottom slots allow the toolbar position to be configurable via slots.\n        // The nameless slot is used to hold the `super-tabs-container`.\n        return (h(Host, null, h(\"slot\", { name: \"top\" }), h(\"slot\", null), h(\"slot\", { name: \"bottom\" })));\n    };\n    Object.defineProperty(class_2.prototype, \"el\", {\n        get: function () { return getElement(this); },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(class_2, \"watchers\", {\n        get: function () {\n            return {\n                \"config\": [\"onConfigChange\"]\n            };\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(class_2, \"style\", {\n        get: function () { return \":host{height:100%;max-height:100%;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;overflow:hidden;z-index:1;position:relative;contain:layout size style;-ms-flex-order:-1;order:-1;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-touch-callout:none;-webkit-text-size-adjust:none;-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-font-smoothing:antialiased;-ms-touch-action:none;touch-action:none;-webkit-box-sizing:border-box;box-sizing:border-box;margin:0;padding:0}\"; },\n        enumerable: true,\n        configurable: true\n    });\n    return class_2;\n}());\nvar SuperTabsContainerComponent = /** @class */ (function () {\n    function class_3(hostRef) {\n        registerInstance(this, hostRef);\n        /**\n         * Enable/disable swiping\n         */\n        this.swipeEnabled = true;\n        /**\n         * Set to true to automatically scroll to the top of the tab when the button is clicked while the tab is\n         * already selected.\n         */\n        this.autoScrollTop = false;\n        this.tabs = [];\n        this.isDragging = false;\n        this.leftThreshold = 0;\n        this.rightThreshold = 0;\n        this.scrollWidth = 0;\n        this.clientWidth = 0;\n        this.activeTabIndexChange = createEvent(this, \"activeTabIndexChange\", 7);\n        this.selectedTabIndexChange = createEvent(this, \"selectedTabIndexChange\", 7);\n        this.queue = getContext(this, \"queue\");\n    }\n    class_3.prototype.componentDidLoad = function () {\n        this.debug('componentDidLoad');\n        this.slot = this.el.shadowRoot.querySelector('slot');\n        this.slot.addEventListener('slotchange', this.onSlotChange.bind(this));\n    };\n    class_3.prototype.onSlotChange = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var tabs;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        tabs = Array.from(this.el.querySelectorAll('super-tab'));\n                        return [4 /*yield*/, Promise.all(tabs.map(function (t) { return t.componentOnReady(); }))];\n                    case 1:\n                        _a.sent();\n                        this.tabs = tabs;\n                        this.debug('onSlotChange', 'total tabs:', this.tabs.length);\n                        if (this.ready && typeof this._activeTabIndex === 'number') {\n                            this.moveContainerByIndex(this._activeTabIndex, true);\n                        }\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    class_3.prototype.componentWillUpdate = function () {\n        this.debug('componentDidUpdate fired');\n        this.indexTabs();\n    };\n    /**\n     * @internal\n     */\n    class_3.prototype.reindexTabs = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                this.indexTabs();\n                return [2 /*return*/];\n            });\n        });\n    };\n    /**\n     * @internal\n     *\n     * Moves the container to align with the specified tab index\n     * @param index {number} Index of the tab\n     * @param animate {boolean} Whether to animate the transition\n     */\n    class_3.prototype.moveContainerByIndex = function (index, animate) {\n        this.debug('moveContainerByIndex called with:', index, animate);\n        var scrollX = this.indexToPosition(index);\n        if (scrollX === 0 && index > 0) {\n            this.debug('moveContainerByIndex', 'scrollX === 0 && index > 0');\n            return Promise.resolve();\n        }\n        return this.moveContainer(scrollX, animate);\n    };\n    /**\n     * @internal\n     *\n     * Sets the scrollLeft property of the container\n     * @param scrollX {number}\n     * @param animate {boolean}\n     */\n    class_3.prototype.moveContainer = function (scrollX, animate) {\n        this.debug('moveContainer', scrollX, animate);\n        scrollEl(this.el, scrollX, 0, animate ? this.config.transitionDuration : 0, this.queue);\n        return Promise.resolve();\n    };\n    /** @internal */\n    class_3.prototype.setActiveTabIndex = function (index, moveContainer, animate) {\n        if (moveContainer === void 0) { moveContainer = true; }\n        if (animate === void 0) { animate = true; }\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        this.debug('setActiveTabIndex', index);\n                        if (!(this._activeTabIndex === index)) return [3 /*break*/, 2];\n                        if (!this.autoScrollTop) {\n                            return [2 /*return*/];\n                        }\n                        return [4 /*yield*/, this.scrollToTop()];\n                    case 1:\n                        _a.sent();\n                        _a.label = 2;\n                    case 2:\n                        if (!moveContainer) return [3 /*break*/, 4];\n                        return [4 /*yield*/, this.moveContainerByIndex(index, animate)];\n                    case 3:\n                        _a.sent();\n                        _a.label = 4;\n                    case 4: return [4 /*yield*/, this.updateActiveTabIndex(index, false)];\n                    case 5:\n                        _a.sent();\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    /**\n     * Scroll the active tab to the top.\n     */\n    class_3.prototype.scrollToTop = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var current;\n            var _this = this;\n            return __generator(this, function (_a) {\n                if (this._activeTabIndex === undefined) {\n                    return [2 /*return*/];\n                }\n                current = this.tabs[this._activeTabIndex];\n                this.queue.read(function () {\n                    current.getRootScrollableEl()\n                        .then(function (el) {\n                        if (el) {\n                            scrollEl(el, 0, 0, _this.config.transitionDuration, _this.queue);\n                        }\n                    });\n                });\n                return [2 /*return*/];\n            });\n        });\n    };\n    class_3.prototype.updateActiveTabIndex = function (index, emit) {\n        if (emit === void 0) { emit = true; }\n        this.debug('updateActiveTabIndex', index, emit, this._activeTabIndex);\n        this._activeTabIndex = index;\n        emit && this.activeTabIndexChange.emit(this._activeTabIndex);\n    };\n    class_3.prototype.updateSelectedTabIndex = function (index) {\n        if (index === this._selectedTabIndex) {\n            return;\n        }\n        this._selectedTabIndex = index;\n        this.selectedTabIndexChange.emit(this._selectedTabIndex);\n    };\n    class_3.prototype.onTouchStart = function (ev) {\n        return __awaiter(this, void 0, void 0, function () {\n            var avoid, element, coords, vw;\n            return __generator(this, function (_a) {\n                if (!this.swipeEnabled) {\n                    return [2 /*return*/];\n                }\n                if (this.config.avoidElements) {\n                    avoid = false;\n                    element = ev.target;\n                    if (element) {\n                        do {\n                            if (typeof element.getAttribute === 'function' && element.getAttribute('avoid-super-tabs')) {\n                                return [2 /*return*/];\n                            }\n                            element = element.parentElement;\n                        } while (element && !avoid);\n                    }\n                }\n                coords = pointerCoord(ev);\n                vw = this.clientWidth;\n                if (coords.x < this.leftThreshold || coords.x > vw - this.rightThreshold) {\n                    // ignore this gesture, it started in the side menu touch zone\n                    return [2 /*return*/];\n                }\n                if (this.config.shortSwipeDuration > 0) {\n                    this.initialTimestamp = getTs();\n                }\n                this.initialCoords = coords;\n                this.lastPosX = coords.x;\n                return [2 /*return*/];\n            });\n        });\n    };\n    class_3.prototype.onClick = function (ev) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                if (this.isDragging) {\n                    ev.stopImmediatePropagation();\n                    ev.preventDefault();\n                }\n                return [2 /*return*/];\n            });\n        });\n    };\n    class_3.prototype.onTouchMove = function (ev) {\n        return __awaiter(this, void 0, void 0, function () {\n            var coords, shouldCapture, deltaX, scrollLeft, scrollX;\n            return __generator(this, function (_a) {\n                if (!this.swipeEnabled || !this.initialCoords || typeof this.lastPosX !== 'number') {\n                    return [2 /*return*/];\n                }\n                coords = pointerCoord(ev);\n                if (!this.isDragging) {\n                    shouldCapture = checkGesture(coords, this.initialCoords, this.config);\n                    if (!shouldCapture) {\n                        if (Math.abs(coords.y - this.initialCoords.y) > 100) {\n                            this.initialCoords = void 0;\n                            this.lastPosX = void 0;\n                        }\n                        return [2 /*return*/];\n                    }\n                    // gesture is good, let's capture all next onTouchMove events\n                    this.isDragging = true;\n                }\n                // scroll container\n                if (!this.isDragging) {\n                    return [2 /*return*/];\n                }\n                // stop anything else from capturing these events, to make sure the content doesn't slide\n                if (!this.config.allowElementScroll) {\n                    ev.stopImmediatePropagation();\n                }\n                deltaX = this.lastPosX - coords.x;\n                if (deltaX === 0) {\n                    return [2 /*return*/];\n                }\n                scrollLeft = getScrollX(this.el);\n                scrollX = getNormalizedScrollX(this.el, deltaX);\n                if (scrollX === scrollLeft) {\n                    return [2 /*return*/];\n                }\n                this.updateSelectedTabIndex(this.positionToIndex(scrollX));\n                // update last X value\n                this.lastPosX = coords.x;\n                this.moveContainer(scrollX, false);\n                return [2 /*return*/];\n            });\n        });\n    };\n    class_3.prototype.onTouchEnd = function (ev) {\n        return __awaiter(this, void 0, void 0, function () {\n            var coords, deltaTime, shortSwipe, shortSwipeDelta;\n            var _this = this;\n            return __generator(this, function (_a) {\n                if (!this.swipeEnabled || !this.isDragging) {\n                    return [2 /*return*/];\n                }\n                coords = pointerCoord(ev);\n                deltaTime = getTs() - this.initialTimestamp;\n                shortSwipe = this.config.shortSwipeDuration > 0 && deltaTime <= this.config.shortSwipeDuration;\n                shortSwipeDelta = coords.x - this.initialCoords.x;\n                this.queue.read(function () {\n                    var selectedTabIndex = _this.calcSelectedTab();\n                    var expectedTabIndex = Math.round(selectedTabIndex);\n                    if (shortSwipe && expectedTabIndex === _this._activeTabIndex) {\n                        selectedTabIndex += shortSwipeDelta > 0 ? -1 : 1;\n                    }\n                    selectedTabIndex = _this.normalizeSelectedTab(selectedTabIndex);\n                    _this.updateActiveTabIndex(selectedTabIndex);\n                    _this.moveContainerByIndex(selectedTabIndex, true);\n                });\n                this.isDragging = false;\n                this.initialCoords = void 0;\n                this.lastPosX = void 0;\n                return [2 /*return*/];\n            });\n        });\n    };\n    class_3.prototype.indexTabs = function () {\n        var _this = this;\n        this.scrollWidth = this.el.scrollWidth;\n        this.clientWidth = this.el.clientWidth;\n        this.debug('indexTab called', 'scrollWidth:', this.scrollWidth, 'clientWidth:', this.clientWidth);\n        if (this.scrollWidth === 0 || this.clientWidth === 0) {\n            requestAnimationFrame(function () {\n                _this.indexTabs();\n            });\n            return;\n        }\n        if (this.config) {\n            switch (this.config.sideMenu) {\n                case 'both':\n                    this.rightThreshold = this.leftThreshold = this.config.sideMenuThreshold || 0;\n                    break;\n                case 'left':\n                    this.leftThreshold = this.config.sideMenuThreshold || 0;\n                    break;\n                case 'right':\n                    this.rightThreshold = this.config.sideMenuThreshold || 0;\n                    break;\n            }\n        }\n        if (this._activeTabIndex !== undefined) {\n            this.moveContainerByIndex(this._activeTabIndex, false)\n                .then(function () {\n                _this.ready = true;\n            });\n        }\n    };\n    class_3.prototype.calcSelectedTab = function () {\n        var tabsWidth = this.scrollWidth;\n        var tabWidth = this.clientWidth;\n        var minX = 0;\n        var maxX = tabsWidth - tabWidth;\n        var scrollX = Math.max(minX, Math.min(maxX, getScrollX(this.el)));\n        return this.positionToIndex(scrollX);\n    };\n    class_3.prototype.positionToIndex = function (scrollX) {\n        this.debug('positionToIndex', scrollX, this.clientWidth);\n        var tabWidth = this.clientWidth;\n        return scrollX / tabWidth;\n    };\n    class_3.prototype.indexToPosition = function (tabIndex) {\n        this.debug('indexToPosition', tabIndex, this.clientWidth);\n        var tabWidth = this.clientWidth;\n        return tabIndex * tabWidth;\n    };\n    class_3.prototype.normalizeSelectedTab = function (index) {\n        var tabsWidth = this.scrollWidth;\n        var tabWidth = this.clientWidth;\n        var minX = 0;\n        var maxX = tabsWidth - tabWidth;\n        var scrollX = Math.max(minX, Math.min(maxX, tabWidth * Math.round(index)));\n        return scrollX / tabWidth;\n    };\n    /**\n     * Internal method to output values in debug mode.\n     */\n    class_3.prototype.debug = function () {\n        var vals = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            vals[_i] = arguments[_i];\n        }\n        debugLog(this.config, 'container', vals);\n    };\n    class_3.prototype.render = function () {\n        this.debug('Rendering');\n        return h(\"slot\", null);\n    };\n    Object.defineProperty(class_3.prototype, \"el\", {\n        get: function () { return getElement(this); },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(class_3, \"style\", {\n        get: function () { return \":host{display:-ms-flexbox;display:flex;-ms-flex-flow:row nowrap;flex-flow:row nowrap;min-width:100%;-ms-flex:1 1 auto;flex:1 1 auto;position:relative;-webkit-box-sizing:border-box;box-sizing:border-box;width:var(--super-tab-width,100vw);height:var(--super-tab-height,100%);overflow:hidden;-webkit-transform:translateZ(0);transform:translateZ(0);-ms-touch-action:pan-y;touch-action:pan-y;-moz-user-select:none;-ms-user-select:none;user-select:none;will-change:scroll-position;-ms-flex-order:-1;order:-1;-webkit-user-select:none;-webkit-touch-callout:none;-webkit-text-size-adjust:none;-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-font-smoothing:antialiased}\"; },\n        enumerable: true,\n        configurable: true\n    });\n    return class_3;\n}());\nexport { SuperTabComponent as super_tab, SuperTabsComponent as super_tabs, SuperTabsContainerComponent as super_tabs_container };\n"],"sourceRoot":""}