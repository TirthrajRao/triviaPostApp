<div>
  <div class="settingsToolbar">
    <ion-back-button
      name="arrow-round-back"
      class="homeBack"
      class="homeBack"
      defaultHref="/home"
      float-left
      (click)="backClick()"
    >
    </ion-back-button>
    <span id="settingTitle">Trivia Post</span>
    <button float-right routerLink="/home" (click)="homeClick()">
      <ion-icon name="home"></ion-icon>
    </button>
  </div>
</div>

<ion-content *ngIf="!loading">
  <div *ngIf="news" class="singleNews">
    <div class="container">
      <img src="{{mediaPath}}{{news.newsImage}}" alt="" class="postImage" />
      <div class="text-block"></div>
    </div>

    <div class="subPostTitle">
      <p class="newsInfo" *ngIf="news.picCredit">
        <span>PC : </span><span class="picCredit"> {{news.picCredit}}</span>
      </p>
    </div>
    <div class="newsContent">
      <div class="postTitle" *ngIf="news[language].title">
        <p *ngIf="language != 'as'">{{news[language].title}}</p>
        <p class="assameseFont assameseFontTitle" *ngIf="language == 'as'">
          {{news[language].title}}
        </p>
      </div>
      <div class="category_title">
        <span
          (click)="singleCategory(news.newsCategoryId,news.newsCategory[language])"
          *ngIf="language != 'as'"
        >
          {{news.newsCategory[language] | slice:0:30}}
        </span>
        <span
          (click)="singleCategory(news.newsCategoryId,news.newsCategory[language])"
          class="assameseFont"
          *ngIf="language == 'as'"
        >
          {{news.newsCategory[language] | slice:0:30}}
        </span>
      </div>
      <div class="post">
        <p [innerHTML]="byPassedNews" *ngIf="language != 'as'"></p>
        <p
          [innerHTML]="byPassedNews"
          class="assameseFont assameseFontContent"
          *ngIf="language == 'as'"
        ></p>
      </div>
      <span
        class="float unbookmarkFloat"
        *ngIf="!news.bookmarkKey"
        (click)="bookmark(news.newsId)"
      >
        <span *ngIf="!skip">
          <div class="tourText tourTextBookmark" *ngIf="bookmarkFlag != '1'">
            Click here to bookmark this post!
          </div>
          <div class="ripple_effect" *ngIf="bookmarkFlag != '1'"></div>
        </span>
        <img src="assets/images/bookmarkWhite.png" height="52%" alt="" />
      </span>
      <!-- <span
        class="float unbookmarkFloat"
        *ngIf="!news.bookmarkKey"
        (click)="bookmark(news.newsId)"
      >
        <img src="assets/images/bookmarkWhite.png" height="52%" alt="" />
      </span> -->
      <span
        class="float bookmarkFloat"
        *ngIf="(news.bookmarkKey || loginBookmark)"
        (click)="bookmark(news.newsId)"
      >
        <img src="assets/images/bookmarkWhite.png" height="52%" alt="" />
      </span>
      <span
        class="float floatShare"
        (click)="sharePost(news.fcmLink, news[language].title, news.newsImage)"
      >
        <span *ngIf="!skip">
          <div class="tourText tourTextShare" *ngIf="shareFlag != '1'">
            Click here to share this post!
          </div>
          <div class="ripple_effect" *ngIf="shareFlag != '1'"></div>
        </span>
        <img src="../../assets/images/Share.png" class="icon shareImage" />
      </span>
    </div>
    <div class="subPostTitle postSource">
      <p class="newsInfo" *ngIf="news.picCredit">
        <span>Source: </span
        ><span class="picCredit" (click)="openWithSystemBrowser(news.srcLink)">
          {{news.srcTitle}}</span
        >
      </p>
      <p class="newsInfo" *ngIf="!news.picCredit"></p>
    </div>
  </div>
  <p *ngIf="news" class="alsoRead">
    Also Read:
  </p>
  <div *ngFor="let news of singlepost; let i = index" class="singlePost">
    <app-related-post
      [news]="news"
      [language]="language"
      [postCount]="i"
    ></app-related-post>
  </div>

  <!-- modal bookmark -->
  <div id="open-modal" class="modal-window" *ngIf="bookmarkModal">
    <div>
      <div class="img_border">
        <img src="../../assets/images/bookmarkNew.png" alt="" />
      </div>
      <div class="textBoxModal">
        <h3>{{modalBookmarkTitle[language]}}</h3>
        <p>{{modalBookmarkText[language]}}</p>
      </div>
      <div>
        <button class="signupButton" (click)="bookmarkClose();signup()">Signup</button>
        <button class="signupButton skipButton" (click)="bookmarkClose()">Skip</button>
      </div>
    </div>
  </div>

  <!-- modal share -->
  <div id="open-modal" class="modal-window" *ngIf="shareModal">
    <div>
      <div class="img_border">
        <img src="../../assets/images/share.png" alt="" />
      </div>
      <div class="textBoxModal">
        <h3>{{sharePostModal[language]}}</h3>
        <p>{{sharePostModalContent[language]}}</p>
      </div>
      <div>
        <button class="signupButton" (click)="shareClose();signup()">Signup</button>
        <button class="signupButton skipButton" (click)="shareClose()">Skip</button>
      </div>
    </div>
  </div>
</ion-content>
<ion-content *ngIf="loading" class="loadingContent"> </ion-content>
