<div no-border>
  <div
    class="settingsToolbar"
    *ngIf="[(latestPost && language) || (language && latestPost && skip == '1') || (skip == '1' && latestPost)] && !loading && language && catModalShow"
  >
    <button float-left>
      <ion-icon
        name="settings"
        class="homeBack"
        routerLink="/settings"
        (click)="setFlagTrue()"
      ></ion-icon>
    </button>
    <span id="settingTitle">
      Trivia Post
    </span>
    <button float-right>
      <ion-icon name="search" class="searchIcon" (click)="search()"></ion-icon>
    </button>
  </div>
</div>
<div no-border>
  <div *ngIf="!language && !loading" class="settingsToolbar">
    <span
      id="settingTitle"
      style="margin:0;width: 100%;"
      *ngIf="!loading && !selected"
    >
      Language
    </span>
    <span
      id="settingTitle"
      style="margin:0;width: 100%;"
      *ngIf="!loading && selected"
    >
      {{languageStatic[selected]}}
    </span>
  </div>
</div>
<div *ngIf="!skip && !catModalShow && language && !catLoading && !smallLoading">
  <div class="settingsToolbar">
    <ion-back-button
      name="arrow-round-back"
      class="homeBack"
      class="homeBack"
      defaultHref="/settings"
      float-left
      (click)="backButton()"
    >
    </ion-back-button>
    <span id="settingTitle"> {{catTitle[language]}}</span>
    <button float-right routerLink="/home">
      <ion-icon name="home"></ion-icon>
    </button>
  </div>
</div>

<ion-content *ngIf="!language && startTour && !loading">
  <div
    class="languageSelect"
    style="height: calc(100vh - 54px);background-image: url('../../assets/images/langBackground.png');background-repeat: no-repeat;background-size: cover;"
  >
    <div class="langHead">
      <img src="../../assets/images/subject.png" height="30px" width="30px" />
      <p *ngIf="!selected">Choose your preferred language to continue!</p>
      <p *ngIf="selected">{{languagePageHead[selected]}}</p>
    </div>
    <ion-row style="margin-top: 27%;">
      <ion-col
        size="6"
        *ngFor="let lang of languageList;let i = index"
        class="langCol"
      >
        <div
          class="ripple_effect"
          *ngIf="i == 0"
          style="margin-top: 10px;"
        ></div>
        <ion-card
          tabindex="{{i}}"
          [style.background]="selected==lang.slug?'red':'white'"
          [style.color]="selected==lang.slug?'white':'black'"
          class="divs"
          (click)="selected=lang.slug"
        >
          {{lang.lang}}
        </ion-card>
        <div
          class="tourText tourTextModal"
          *ngIf="i == 0 && !selected"
          style="bottom: 96%;"
        >
          Choose any language of your preference!
        </div>
        <div
          class="tourText tourTextModal"
          *ngIf="i == 0 && selected"
          style="bottom: 96%;"
        >
          {{languagePageHead[selected]}}
        </div>
      </ion-col>
      <div class="container">
        <input type="checkbox" id="someID" (change)="isChecked($event)" />
        <label for="someID" class="checkbox-1" *ngIf="!selected">
          By continuing, you accept the
          <span class="redLink"> "Terms & Condition"</span> and
          <span class="redLink"> "Privacy Policy" </span>
        </label>
        <label for="someID" class="checkbox-1" *ngIf="selected">
          {{acceptTermsPolicy[selected]}}
          <span class="redLink"> "{{termsTitle[selected]}}"</span> {{andText[selected]}}
          <span class="redLink"> "{{privacyTitle[selected]}}" </span>
        </label>
      </div>
    </ion-row>
    <button class="contButton" (click)="selectLang()">Continue</button>
  </div>
</ion-content>
<ion-content *ngIf="!language && !loading && skipTheTour">
  <div
    class="languageSelect"
    style="height: calc(100vh - 54px);background-image: url('../../assets/images/langBackground.png');background-repeat: no-repeat;background-size: cover;"
  >
    <div class="langHead">
      <img src="../../assets/images/subject.png" height="30px" width="30px" />
      <p *ngIf="!selected">Choose your preferred language to continue!</p>
      <p *ngIf="selected">{{languagePageHead[selected]}}</p>
    </div>
    <ion-row style="margin-top: 27%;">
      <ion-col
        size="6"
        *ngFor="let lang of languageList;let i = index"
        class="langCol"
      >
        <ion-card
          tabindex="{{i}}"
          [style.background]="selected==lang.slug?'red':'white'"
          [style.color]="selected==lang.slug?'white':'black'"
          class="divs"
          (click)="selected=lang.slug"
        >
          {{lang.lang}}
        </ion-card>
      </ion-col>
      <div class="container">
        <input type="checkbox" id="someID" (change)="isChecked($event)" />
        <label for="someID" class="checkbox-1" *ngIf="!selected">
          By continuing, you accept the
          <span class="redLink"> "Terms & Condition"</span> and
          <span class="redLink"> "Privacy Policy" </span>
        </label>
        <label for="someID" class="checkbox-1" *ngIf="selected">
          {{acceptTermsPolicy[selected]}}
          <span class="redLink"> "{{termsTitle[selected]}}"</span> {{andText[selected]}}
          <span class="redLink"> "{{privacyTitle[selected]}}" </span>
        </label>
      </div>
    </ion-row>
    <button class="contButton" (click)="selectLangSkip()">Continue</button>
  </div>
</ion-content>
<ion-content
  *ngIf="!skip && !catModalShow && language && categories && !catLoading && !smallLoading"
>
  <ion-row *ngIf="categories && !smallLoading">
    <ion-col
      size="6"
      *ngFor="let category of categories;let i = index"
      class="categoryTiles"
    >
      <app-category-tiles
        [category]="category"
        (onSubscribe)="subscribedCategory($event, isNotify)"
        [language]="language"
        [index]="i"
      ></app-category-tiles>
    </ion-col>
  </ion-row>
</ion-content>
<ion-content
  *ngIf="!smallLoading && [(latestPost && language) || (language && latestPost && skip == '1') || (skip == '1' && latestPost)] && language && catModalShow"
  [ngClass]="{'disableScroll': !skip}"
  class="newsFeedBlock"
>
  <ion-row class="feeds" style="min-width: 100%;" *ngIf="latestPost && newsArray && !smallLoading">
    <app-large-post
      style="min-width: 100%;color: red!important;"
      [news]="latestPost"
      [language]="language"
      [skip]="skip"
    ></app-large-post>
    <span *ngFor="let news of newsArray" class="newsTiles">
      <app-post-tiles [news]="news" [language]="language"></app-post-tiles>
    </span>
  </ion-row>
</ion-content>
<div class="no-news-text" *ngIf="isTextVisible">
  <span>{{text}}</span>
</div>
<ion-content *ngIf="loading && firstTimeLoad != true" class="loadingContent" [ngClass]="{'showDifferentLoader': showTourConfirm}">
  <div id="bkgOverlay" class="backgroundOverlay" *ngIf="showTourConfirm"></div>

  <div
    id="delayedPopup"
    class="delayedPopupWindow confirmTourPopup"
    *ngIf="showTourConfirm"
  >
    <div class="img_border">
      <img
        src="../../assets/images/book.png"
        alt=""
      />
    </div>
    <h5>Welcome</h5>
    <p class="tourConfirmText">
      Would you like to start the tour?
    </p>
    <div class="rateButton">
      <ion-row>
        <ion-col size="12" (click)="startTourFunction()">
          <button id="rateButton" class="tourButton">Start</button>
        </ion-col>
        <ion-col size="12" (click)="skipTourFunction()">
          <button id="remindLater" class="tourButton">Skip</button>
        </ion-col>
      </ion-row>
    </div>
    <div class="otherButton"></div>
    <img
      src="../../assets/images/ratingBackground.png"
      alt=""
      class="ratingBack"
    />
  </div>
</ion-content>
<ion-content
  *ngIf="smallLoading || myloader"
  class="simpleLoader"
></ion-content>
<!-- <ion-content
  *ngIf="language && catSelect == '0' && skip != '1' && catLoading"
  class="loadingContent"
>
</ion-content> -->
