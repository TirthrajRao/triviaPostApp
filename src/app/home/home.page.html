<div no-border>
  <div class="settingsToolbar" *ngIf="language || (language && skip == '1')">
    <button float-left>
      <ion-icon
        name="settings"
        class="homeBack"
        routerLink="/settings"
        (click)="setFlagTrue()"
      ></ion-icon>
    </button>
    <span id="settingTitle">
      Trivia Post
    </span>
    <button float-right>
      <ion-icon name="search" class="searchIcon" (click)="search()"></ion-icon>
    </button>
  </div>
</div>
<div no-border>
  <div *ngIf="!language" class="settingsToolbar">
    <span id="settingTitle" style="margin:0;width: 100%;">
      Language
    </span>
  </div>
</div>

<ion-content *ngIf="!language && startTour && !loading">
  <div
    class="languageSelect"
    style="height: calc(100vh - 54px);background-image: url('../../assets/images/langBackground.png');background-repeat: no-repeat;background-size: cover;"
  >
    <div class="langHead">
      <img src="../../assets/images/subject.png" height="30px" width="30px" />
      <p>Choose your preferred language</p>
    </div>
    <ion-row>
      <ion-col
        size="6"
        *ngFor="let lang of languageList;let i = index"
        class="langCol"
      >
        <div
          class="ripple_effect"
          *ngIf="i == 0"
          style="margin-top: 10px;"
        ></div>
        <ion-card
          tabindex="{{i}}"
          [style.background]="selected==lang.slug?'red':'white'"
          [style.color]="selected==lang.slug?'white':'black'"
          class="divs"
          (click)="selected=lang.slug"
        >
          {{lang.lang}}
        </ion-card>
        <div class="tourText tourTextModal" *ngIf="i == 0" style="bottom: 96%;">
          Select language
        </div>
      </ion-col>
    </ion-row>
    <button class="contButton" (click)="selectLang()">Continue</button>
  </div>
</ion-content>
<ion-content *ngIf="!language && !loading && skipTheTour">
  <div
    class="languageSelect"
    style="height: calc(100vh - 54px);background-image: url('../../assets/images/langBackground.png');background-repeat: no-repeat;background-size: cover;"
  >
    <div class="langHead">
      <img src="../../assets/images/subject.png" height="30px" width="30px" />
      <p>Choose your preferred language</p>
    </div>
    <ion-row>
      <ion-col
        size="6"
        *ngFor="let lang of languageList;let i = index"
        class="langCol"
      >
        <ion-card
          tabindex="{{i}}"
          [style.background]="selected==lang.slug?'red':'white'"
          [style.color]="selected==lang.slug?'white':'black'"
          class="divs"
          (click)="selected=lang.slug"
        >
          {{lang.lang}}
        </ion-card>
      </ion-col>
    </ion-row>
    <button class="contButton" (click)="selectLangSkip()">Continue</button>
  </div>
</ion-content>
<ion-content
  *ngIf="[(latestPost && language) || (language && latestPost && skip == '1') || (skip == '1' && latestPost)] && !loading && language"
  [ngClass]="{'disableScroll': !skip}"
>
  <div class="skipTour" *ngIf="!skip" (click)="skipTour()">
    <div class="tourText tourTextModal">
      Click here to skip tour!
    </div>
    <div class="ripple_effect"></div>
    <span><img src="../../assets/images/skip.png" alt="" height="48px"/></span>
  </div>
  <ion-row class="feeds" *ngIf="latestPost && !loading">
    <app-large-post
      [news]="latestPost"
      *ngIf="latestPost && !loading"
      [language]="language"
      [skip]="skip"
    ></app-large-post>
    <span *ngFor="let news of newsArray" class="newsTiles">
      <app-post-tiles
        [news]="news"
        [language]="language"
        *ngIf="newsArray && !loading"
      ></app-post-tiles>
    </span>
  </ion-row>
</ion-content>
<div class="no-news-text" *ngIf="isTextVisible">
  <span>{{text}}</span>
</div>
<ion-content
  *ngIf="loading && firstTimeLoad != true"
  class="loadingContent"
></ion-content>
<ion-content
  *ngIf="loading && firstTimeLoad == true"
  class="simpleLoader"
></ion-content>
<ion-content
  *ngIf="language && catSelect == '0' && skip != '1' && catLoading"
  class="loadingContent"
>
</ion-content>
